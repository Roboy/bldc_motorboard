EESchema Schematic File Version 4
LIBS:board-cache
EELAYER 29 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 4
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 1100 900  1150 1000
U 5D0530DE
F0 "mosfet_bridges" 50
F1 "mosfet_bridges.sch" 50
F2 "GL1" I L 1100 1450 50 
F3 "GL2" I L 1100 1600 50 
F4 "GL3" I L 1100 1750 50 
F5 "GH1" I L 1100 1000 50 
F6 "GH2" I L 1100 1150 50 
F7 "GH3" I L 1100 1300 50 
F8 "SH1" I R 2250 1000 50 
F9 "SH2" I R 2250 1100 50 
F10 "SH3" I R 2250 1200 50 
F11 "SN1" I R 2250 1300 50 
$EndSheet
$Comp
L custom:DRV8323HRTA DRV8323H?
U 1 1 5D18E2BB
P 6350 2200
F 0 "DRV8323H?" H 6150 2200 50  0000 L CNN
F 1 "DRV8323HRTA" H 6150 1850 50  0000 L CNN
F 2 "" H 6100 2100 50  0001 C CNN
F 3 "" H 6100 2100 50  0001 C CNN
	1    6350 2200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5D18F713
P 3700 1800
F 0 "C?" H 3815 1846 50  0000 L CNN
F 1 "0.1uF" H 3815 1755 50  0000 L CNN
F 2 "" H 3738 1650 50  0001 C CNN
F 3 "~" H 3700 1800 50  0001 C CNN
	1    3700 1800
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5D190C8F
P 3200 1800
F 0 "C?" H 3315 1846 50  0000 L CNN
F 1 "10uF" H 3315 1755 50  0000 L CNN
F 2 "" H 3238 1650 50  0001 C CNN
F 3 "~" H 3200 1800 50  0001 C CNN
	1    3200 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3200 1250 3200 1650
Wire Wire Line
	3200 1250 3450 1250
Wire Wire Line
	3200 1950 3200 2050
Wire Wire Line
	3200 2050 3700 2050
Wire Wire Line
	3700 1950 3700 2050
Connection ~ 3700 2050
Wire Wire Line
	3700 2050 4400 2050
Wire Wire Line
	3700 1650 3700 1250
$Comp
L Device:C C?
U 1 1 5D193B25
P 4400 1900
F 0 "C?" H 4515 1946 50  0000 L CNN
F 1 "1uF" H 4515 1855 50  0000 L CNN
F 2 "" H 4438 1750 50  0001 C CNN
F 3 "~" H 4400 1900 50  0001 C CNN
	1    4400 1900
	1    0    0    -1  
$EndComp
Connection ~ 4400 2050
Wire Wire Line
	4400 2050 5300 2050
Wire Wire Line
	4800 1950 4800 1750
Wire Wire Line
	4800 1750 4400 1750
Wire Wire Line
	4800 1950 5450 1950
$Comp
L Device:C C?
U 1 1 5D194380
P 5050 1650
F 0 "C?" H 5165 1696 50  0000 L CNN
F 1 "47nF" H 5165 1605 50  0000 L CNN
F 2 "" H 5088 1500 50  0001 C CNN
F 3 "~" H 5050 1650 50  0001 C CNN
	1    5050 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 1850 5050 1850
Wire Wire Line
	5050 1850 5050 1800
Wire Wire Line
	5450 1750 5450 1500
Wire Wire Line
	5450 1500 5050 1500
$Comp
L Device:C C?
U 1 1 5D195024
P 6700 900
F 0 "C?" V 6448 900 50  0000 C CNN
F 1 "1uF" V 6539 900 50  0000 C CNN
F 2 "" H 6738 750 50  0001 C CNN
F 3 "~" H 6700 900 50  0001 C CNN
	1    6700 900 
	0    1    1    0   
$EndComp
Wire Wire Line
	6700 1350 6700 1200
Wire Wire Line
	6700 1200 6850 1200
Wire Wire Line
	6850 1200 6850 900 
$Comp
L Device:R R?
U 1 1 5D196A5C
P 8400 2600
F 0 "R?" H 8470 2646 50  0000 L CNN
F 1 "10k" H 8470 2555 50  0000 L CNN
F 2 "" V 8330 2600 50  0001 C CNN
F 3 "~" H 8400 2600 50  0001 C CNN
	1    8400 2600
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5D19819A
P 7550 1400
F 0 "C?" H 7665 1446 50  0000 L CNN
F 1 "0.1uF" H 7665 1355 50  0000 L CNN
F 2 "" H 7588 1250 50  0001 C CNN
F 3 "~" H 7550 1400 50  0001 C CNN
	1    7550 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7550 1550 7550 2350
Wire Wire Line
	7550 2350 7200 2350
Wire Wire Line
	7550 1250 7550 1200
Wire Wire Line
	7550 1200 6850 1200
Connection ~ 6850 1200
Text GLabel 7200 2450 2    50   Input ~ 0
SOA
Text GLabel 7200 2550 2    50   Input ~ 0
SOB
Text GLabel 7200 2650 2    50   Input ~ 0
SOC
$Comp
L power:GND #PWR?
U 1 1 5D1A15F4
P 5900 1000
F 0 "#PWR?" H 5900 750 50  0001 C CNN
F 1 "GND" H 5905 827 50  0000 C CNN
F 2 "" H 5900 1000 50  0001 C CNN
F 3 "" H 5900 1000 50  0001 C CNN
	1    5900 1000
	-1   0    0    1   
$EndComp
$Comp
L power:+36V #PWR?
U 1 1 5D1A42D4
P 3200 2050
F 0 "#PWR?" H 3200 1900 50  0001 C CNN
F 1 "+36V" V 3215 2178 50  0000 L CNN
F 2 "" H 3200 2050 50  0001 C CNN
F 3 "" H 3200 2050 50  0001 C CNN
	1    3200 2050
	0    -1   -1   0   
$EndComp
Connection ~ 3200 2050
Wire Wire Line
	5450 2150 5300 2150
Wire Wire Line
	5300 2150 5300 2050
Connection ~ 5300 2050
Wire Wire Line
	5300 2050 5450 2050
Text GLabel 6000 1350 1    50   Input ~ 0
INLC
Wire Wire Line
	6550 900  6550 1100
Wire Wire Line
	6550 1100 6600 1100
Wire Wire Line
	6600 1100 6600 1350
$Comp
L power:GND #PWR?
U 1 1 5D1A87D6
P 7550 1200
F 0 "#PWR?" H 7550 950 50  0001 C CNN
F 1 "GND" H 7555 1027 50  0000 C CNN
F 2 "" H 7550 1200 50  0001 C CNN
F 3 "" H 7550 1200 50  0001 C CNN
	1    7550 1200
	-1   0    0    1   
$EndComp
Connection ~ 7550 1200
Wire Wire Line
	5900 1000 5900 1350
$Comp
L power:GND #PWR?
U 1 1 5D1A96D7
P 3450 1250
F 0 "#PWR?" H 3450 1000 50  0001 C CNN
F 1 "GND" H 3455 1077 50  0000 C CNN
F 2 "" H 3450 1250 50  0001 C CNN
F 3 "" H 3450 1250 50  0001 C CNN
	1    3450 1250
	-1   0    0    1   
$EndComp
Connection ~ 3450 1250
Wire Wire Line
	3450 1250 3700 1250
Text GLabel 5450 2250 0    50   Input ~ 0
GHA
Text GLabel 5450 2350 0    50   Input ~ 0
SHA
Text GLabel 5450 2450 0    50   Input ~ 0
GLA
Text GLabel 5450 2550 0    50   Input ~ 0
SPA
Text GLabel 5450 2650 0    50   Input ~ 0
SNA
Text GLabel 5900 3050 3    50   Input ~ 0
SNB
Text GLabel 6000 3050 3    50   Input ~ 0
SPB
Text GLabel 6100 3050 3    50   Input ~ 0
GLB
Text GLabel 6200 3050 3    50   Input ~ 0
SHB
Text GLabel 6300 3050 3    50   Input ~ 0
GHB
Text GLabel 6400 3050 3    50   Input ~ 0
GHC
Text GLabel 6500 3050 3    50   Input ~ 0
SHC
Text GLabel 6600 3050 3    50   Input ~ 0
GLC
Text GLabel 6700 3050 3    50   Input ~ 0
SPC
Text GLabel 6800 3050 3    50   Input ~ 0
SNC
Text GLabel 1100 1000 0    50   Input ~ 0
GHA
Text GLabel 1100 1450 0    50   Input ~ 0
GLA
Text GLabel 1100 1600 0    50   Input ~ 0
GLB
Text GLabel 1100 1150 0    50   Input ~ 0
GHB
Text GLabel 1100 1300 0    50   Input ~ 0
GHC
Text GLabel 1100 1750 0    50   Input ~ 0
GLC
Text GLabel 2250 1000 2    50   Input ~ 0
SHA
Text GLabel 2250 1100 2    50   Input ~ 0
SHB
Text GLabel 2250 1200 2    50   Input ~ 0
SHC
Text HLabel 2250 1400 0    50   Input ~ 0
SP1
Text HLabel 2250 1500 0    50   Input ~ 0
SN2
Text HLabel 2250 1600 0    50   Input ~ 0
SP2
Text HLabel 2250 1700 0    50   Input ~ 0
SN3
Text HLabel 2250 1800 0    50   Input ~ 0
SP3
Text GLabel 2250 1400 2    50   Input ~ 0
SPA
Text GLabel 2250 1300 2    50   Input ~ 0
SNA
Text GLabel 2250 1500 2    50   Input ~ 0
SNB
Text GLabel 2250 1600 2    50   Input ~ 0
SPB
Text GLabel 2250 1800 2    50   Input ~ 0
SPC
Text GLabel 2250 1700 2    50   Input ~ 0
SNC
$Comp
L Connector:Conn_01x01_Female J?
U 1 1 5D2229C1
P 10350 1650
F 0 "J?" H 10378 1676 50  0000 L CNN
F 1 "PH1" H 10378 1585 50  0000 L CNN
F 2 "" H 10350 1650 50  0001 C CNN
F 3 "~" H 10350 1650 50  0001 C CNN
	1    10350 1650
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x01_Female J?
U 1 1 5D222F37
P 10350 1900
F 0 "J?" H 10378 1926 50  0000 L CNN
F 1 "PH2" H 10378 1835 50  0000 L CNN
F 2 "" H 10350 1900 50  0001 C CNN
F 3 "~" H 10350 1900 50  0001 C CNN
	1    10350 1900
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x01_Female J?
U 1 1 5D22318A
P 10350 2150
F 0 "J?" H 10378 2176 50  0000 L CNN
F 1 "PH3" H 10378 2085 50  0000 L CNN
F 2 "" H 10350 2150 50  0001 C CNN
F 3 "~" H 10350 2150 50  0001 C CNN
	1    10350 2150
	1    0    0    -1  
$EndComp
Text GLabel 10150 1650 0    50   Input ~ 0
PH1
Text GLabel 10150 1900 0    50   Input ~ 0
PH2
Text GLabel 10150 2150 0    50   Input ~ 0
PH3
$Comp
L Connector:Conn_01x06_Female J?
U 1 1 5D22437F
P 10450 1050
F 0 "J?" H 10478 1026 50  0000 L CNN
F 1 "HALL_SENSORS" H 10478 935 50  0000 L CNN
F 2 "" H 10450 1050 50  0001 C CNN
F 3 "~" H 10450 1050 50  0001 C CNN
	1    10450 1050
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5D22511A
P 10250 850
F 0 "#PWR?" H 10250 700 50  0001 C CNN
F 1 "+3.3V" V 10265 978 50  0000 L CNN
F 2 "" H 10250 850 50  0001 C CNN
F 3 "" H 10250 850 50  0001 C CNN
	1    10250 850 
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5D22598B
P 10250 950
F 0 "#PWR?" H 10250 700 50  0001 C CNN
F 1 "GND" V 10255 822 50  0000 R CNN
F 2 "" H 10250 950 50  0001 C CNN
F 3 "" H 10250 950 50  0001 C CNN
	1    10250 950 
	0    1    1    0   
$EndComp
NoConn ~ 10250 1350
Text GLabel 10250 1050 0    50   Input ~ 0
HALL1
Text GLabel 10250 1150 0    50   Input ~ 0
HALL2
Text GLabel 10250 1250 0    50   Input ~ 0
HALL3
$Comp
L Device:R R?
U 1 1 5D238ADF
P 9000 1900
F 0 "R?" H 9070 1946 50  0000 L CNN
F 1 ">500k -> 1xPWM" H 9070 1855 50  0000 L CNN
F 2 "" V 8930 1900 50  0001 C CNN
F 3 "~" H 9000 1900 50  0001 C CNN
	1    9000 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	9000 1200 9000 1750
Wire Wire Line
	9000 2150 9000 2050
Wire Wire Line
	7200 2150 9000 2150
Wire Wire Line
	8400 2450 8400 2250
Wire Wire Line
	7200 2250 8400 2250
$Comp
L Device:R R?
U 1 1 5D23F6A6
P 8200 1650
F 0 "R?" H 8270 1696 50  0000 L CNN
F 1 ">500k -> 20V/V" H 8270 1605 50  0000 L CNN
F 2 "" V 8130 1650 50  0001 C CNN
F 3 "~" H 8200 1650 50  0001 C CNN
	1    8200 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	7700 1750 7200 1750
Wire Wire Line
	8200 1800 8200 1850
Wire Wire Line
	8200 1850 7200 1850
Wire Wire Line
	8200 1500 8200 1200
Connection ~ 8200 1200
Wire Wire Line
	8200 1200 9000 1200
$Comp
L Device:R R?
U 1 1 5D249E9A
P 7700 850
F 0 "R?" V 7493 850 50  0000 C CNN
F 1 "18k -> 570/1140mA" V 7584 850 50  0000 C CNN
F 2 "" V 7630 850 50  0001 C CNN
F 3 "~" H 7700 850 50  0001 C CNN
	1    7700 850 
	0    1    1    0   
$EndComp
Wire Wire Line
	7200 2050 8100 2050
Wire Wire Line
	8100 2050 8100 850 
Wire Wire Line
	8100 850  7850 850 
Wire Wire Line
	7200 850  7200 1100
Wire Wire Line
	7200 1100 6600 1100
Connection ~ 6600 1100
Wire Wire Line
	7200 850  7550 850 
Wire Wire Line
	7200 1950 7250 1950
Wire Wire Line
	7250 1950 7250 1100
Wire Wire Line
	7250 1100 7200 1100
Connection ~ 7200 1100
Wire Wire Line
	7650 2350 7550 2350
Connection ~ 7550 2350
Text GLabel 8400 2750 3    50   Input ~ 0
3.3V
Wire Wire Line
	7550 1200 8200 1200
$Sheet
S 1200 2700 850  600 
U 5D0684AF
F0 "buck_converter" 50
F1 "buck_converter.sch" 50
$EndSheet
$Sheet
S 1150 4000 1300 1100
U 5D056FB0
F0 "iCE40-LP8K-CM81" 50
F1 "iCE40-LP8K-CM81.sch" 50
$EndSheet
$Comp
L power:+3.3V #PWR?
U 1 1 5D083F9B
P 7700 1750
F 0 "#PWR?" H 7700 1600 50  0001 C CNN
F 1 "+3.3V" V 7715 1878 50  0000 L CNN
F 2 "" H 7700 1750 50  0001 C CNN
F 3 "" H 7700 1750 50  0001 C CNN
	1    7700 1750
	0    1    1    0   
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5D084531
P 7650 2350
F 0 "#PWR?" H 7650 2200 50  0001 C CNN
F 1 "+3.3V" V 7665 2478 50  0000 L CNN
F 2 "" H 7650 2350 50  0001 C CNN
F 3 "" H 7650 2350 50  0001 C CNN
	1    7650 2350
	0    1    1    0   
$EndComp
Text GLabel 6100 1350 1    50   Input ~ 0
INHC
Text GLabel 6200 1350 1    50   Input ~ 0
INLB
Text GLabel 6300 1350 1    50   Input ~ 0
INHB
Text GLabel 6400 1350 1    50   Input ~ 0
INLA
Text GLabel 6500 1350 1    50   Input ~ 0
INHA
$EndSCHEMATC
